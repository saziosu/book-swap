{% extends "base.html" %} {% block content %} {% load static %}


<div class="container-fluid">

    <div class="link-container">
        <a href="/add-book" id="add-book">Add Your Book</a>
    </div>
  <div class="row">
    <!-- Blog Entries Column -->
    <div class="col-12 mt-3 left">
      <div class="row">
        {% for book in book_list %}
        <div class="col-md-4">
          <div class="card mb-4">
            <!-- link to click into the detailed post -->
            <a href="{% url 'book_detail' book.slug %}">
              <div class="card-body">
                <div class="image-container">
                  {% if "placeholder" in book.book_image.url %}
                  <img
                    src="{% static 'images/book-placeholder.webp' %}"
                    alt="Book Placeholder Image"
                  />
                  {% else %}
                  <img class="card-img-top" src=" {{ book.book_image.url }}" />
                  {% endif %}
                </div>
                <h2 class="card-title">{{ book.title }}</h2>
                <h4 class="book-author">{{ book.book_author }}</h4>
                <span class="posted">{{ book.post_owner }} | {{ book.created_on }}</span>
                {% if book.reserved == True %}
                <br>
                <span class="reserved"><strong>This book has been reserved</strong></span>
                {% endif %}
                {% if book.post_owner == request.user %}
                <div class="ud-container">
                    <a href="{% url 'book_update' slug=book.slug %}" class="btn btn-secondary">Edit</a>
                    <a href="{% url 'book_delete' slug=book.slug %}" class="btn btn-danger">Delete</a>
                </div>
                {% endif %}
              </div>
            </a>
          </div>
        </div>
        {% endfor %}
      </div>
      {%endblock%}
    </div>
  </div>
</div>
